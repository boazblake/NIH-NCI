{"version":3,"sources":["app/ClinicalTrials.js","app/Layout.js","app/Model.js","app/OpenSecrets.js","app/components/Body.js","app/components/Button.js","app/components/DropDown.js","app/components/Footer.js","app/components/Hamburger.js","app/components/Header.js","app/components/Modal.js","app/components/Navigation.js","app/components/Paginate.js","app/components/ProgressBar.js","app/components/Searchbar.js","app/components/Sidebar.js","app/components/index.js","app/index.js","app/initialize.js","app/utils/animations.js","app/utils/helpers.js","app/utils/http.js","app/utils/index.js"],"names":["trialLens","byTerms","ps","query","RegExp","markBy","q","str","searchData","Trial","showDescription","view","attrs","trial","official_title","start_date","detail_description","onclick","m","trust","ClinicalTrials","mdl","state","error","data","undefined","paginate","props","onError","onSuccess","trials","total","originalData","getTrialData","fetchData","http","getTask","from","size","map","fork","oninit","onbeforeupdate","isLoading","limit","Paginate","paginateFn","key","oncreate","IsLoading","Layout","children","id","Header","showModal","Modal","Body","Footer","routes","onProgress","e","lengthComputable","model","loadingProgress","max","value","loaded","redraw","onLoad","onLoadStart","onLoadEnd","xhrProgress","config","xhr","onprogress","onload","onloadstart","onloadend","_task","url","args","Task","rej","res","request","then","params","method","postTask","putTask","limits","route","scrollPos","profile","showLimits","showSettings","showNavigation","toggleLimits","toggleSettings","toggleModal","filterData","OpenSecrets","Button","action","label","classList","isDisabled","disabled","Selector","onbeforeremove","animateChildrenLimitsExit","idx","DropDown","animateChildrenLimitsEntrance","Hamburger","close","open","render","dom","xmlns","d","_dom","onupdate","style","fill","ProgressBar","SearchBar","animateSidebarEntrance","slideModalOut","Tab","tab","href","link","split","Navigation","active","console","log","Icons","ArrowLeft","height","length","ArrowRight","debounce300","placeholder","oninput","target","Sidebar","root","document","body","getProfile","w","winW","window","innerWidth","checkWidth","lastProfile","requestAnimationFrame","mount","animate","addEventListener","require","animateComponentEntrance","opacity","setTimeout","toggle","animateChildrenEntrance","child","dir","Promise","remove","add","reverse","display","v","isEmpty","infiniteScroll","setpoint","scrollTop","addTerms","item","terms","values","_search","_sort","p","toLower","toString","_direction","identity","_paginate","offset","filterTask","prop","direction","of","debounce","wait","now","fn","timeout","context","arguments","later","apply","callNow","clearTimeout","_http"],"mappings":"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","file":"docs/index.js","sourcesContent":["import m from 'mithril'\r\nimport { IsLoading, animateComponentEntrance } from './utils'\r\nimport {\r\n  replace,\r\n  map,\r\n  pickAll,\r\n  lensProp,\r\n  over,\r\n  compose,\r\n  test,\r\n  props,\r\n  filter,\r\n} from 'ramda'\r\nimport Paginate from './components/Paginate.js'\r\n\r\nconst trialLens = lensProp('trials')\r\n\r\nconst byTerms = (ps) => (query) =>\r\n  compose(\r\n    test(new RegExp(query, 'i')),\r\n    props(ps)\r\n  )\r\n\r\nconst markBy = (q) => (str) =>\r\n  q\r\n    ? replace(new RegExp(q, 'gi'), `<span class=\"marked\">${q}</span>`, str)\r\n    : str\r\n\r\nconst searchData = (ps) => (query) =>\r\n  compose(\r\n    map(map(markBy(query))),\r\n    filter(byTerms(ps)(query))\r\n  )\r\n\r\nconst Trial = () => {\r\n  let showDescription = false\r\n  return {\r\n    view: ({\r\n      attrs: {\r\n        trial: { official_title, start_date, detail_description },\r\n      },\r\n    }) =>\r\n      m(\r\n        '.grid-item.row',\r\n        { onclick: () => (showDescription = !showDescription) },\r\n        [\r\n          m('h1.left', m.trust(official_title)),\r\n          m('p.right', 'Start Date: ', m('pre', start_date)),\r\n          showDescription &&\r\n            m('.row', m('pre.pre', m.trust(detail_description))),\r\n        ]\r\n      ),\r\n  }\r\n}\r\n\r\nconst ClinicalTrials = ({ attrs: { mdl } }) => {\r\n  const state = {\r\n    error: {},\r\n    data: undefined,\r\n    ...mdl.state.paginate,\r\n    props: ['official_title', 'detail_description'],\r\n  }\r\n  const onError = (error) => (state.error = error)\r\n  const onSuccess = ({ trials, total }) => {\r\n    state.originalData = trials\r\n    state.data = trials\r\n    state.total = total\r\n  }\r\n\r\n  const getTrialData = pickAll([\r\n    'official_title',\r\n    'detail_description',\r\n    'start_date',\r\n    'nci_id',\r\n  ])\r\n\r\n  const fetchData = (http) =>\r\n    http\r\n      .getTask('https://clinicaltrialsapi.cancer.gov/v1/clinical-trials')({\r\n        from: state.from,\r\n        size: state.size,\r\n      })\r\n      .map(over(trialLens, map(getTrialData)))\r\n      .fork(onError, onSuccess)\r\n\r\n  return {\r\n    oninit: ({\r\n      attrs: {\r\n        mdl: { http },\r\n      },\r\n    }) => fetchData(http),\r\n\r\n    onbeforeupdate: ({\r\n      attrs: {\r\n        mdl: {\r\n          state: { query },\r\n        },\r\n      },\r\n    }) =>\r\n      state.data\r\n        ? (state.data = searchData(state.props)(query())(state.originalData))\r\n        : true,\r\n    view: ({\r\n      attrs: {\r\n        mdl: {\r\n          http,\r\n          state: { isLoading, limit },\r\n        },\r\n      },\r\n    }) =>\r\n      m('section.clinical-trials', [\r\n        m(Paginate, {\r\n          state,\r\n          http,\r\n          paginateFn: fetchData,\r\n          limit,\r\n          mdl,\r\n        }),\r\n        state.data &&\r\n          !isLoading() &&\r\n          m('.trials', [\r\n            state.data.map((trial, key) =>\r\n              m(Trial, {\r\n                oncreate: animateComponentEntrance(key),\r\n                key,\r\n                trial,\r\n              })\r\n            ),\r\n          ]),\r\n        isLoading() && IsLoading,\r\n      ]),\r\n  }\r\n}\r\n\r\nexport default ClinicalTrials\r\n","import m from 'mithril'\r\nimport Header from './components/Header.js'\r\nimport Footer from './components/Footer.js'\r\nimport Body from './components/Body.js'\r\nimport Modal from './components/Modal.js'\r\nconst Layout = ({ attrs: { mdl } }) => {\r\n  return {\r\n    view: ({ children }) =>\r\n      m(\r\n        'section.layout',\r\n        {\r\n          id: 'layout',\r\n        },\r\n        children\r\n          ? [\r\n            m(Header, { mdl }),\r\n            mdl.state.showModal() &&\r\n                m(\r\n                  Modal,\r\n                  { mdl },\r\n                  m('code.about', 'Search For Clinical Trials')\r\n                ),\r\n            m(Body, { mdl }, [children]),\r\n            m(Footer, { mdl }),\r\n          ]\r\n          : []\r\n      ),\r\n  }\r\n}\r\n\r\nexport default Layout\r\n","import m from 'mithril'\r\nimport Stream from 'mithril-stream'\r\nimport Task from 'data.task'\r\nconst routes = [\r\n  '/home',\r\n  '/clinical-trials',\r\n  '/interventions',\r\n  '/diseases',\r\n  '/terms',\r\n]\r\n\r\nfunction onProgress(e) {\r\n  if (e.lengthComputable) {\r\n    model.state.loadingProgress.max = e.total\r\n    model.state.loadingProgress.value = e.loaded\r\n    m.redraw()\r\n  }\r\n}\r\n\r\nfunction onLoad() {\r\n  return false\r\n}\r\n\r\nfunction onLoadStart() {\r\n  model.state.isLoading(true)\r\n  return false\r\n}\r\nfunction onLoadEnd() {\r\n  model.state.isLoading(false)\r\n  model.state.loadingProgress.max = 0\r\n  model.state.loadingProgress.value = 0\r\n  return false\r\n}\r\n\r\nconst xhrProgress = {\r\n  config: (xhr) => {\r\n    xhr.onprogress = onProgress\r\n    xhr.onload = onLoad\r\n    xhr.onloadstart = onLoadStart\r\n    xhr.onloadend = onLoadEnd\r\n  },\r\n}\r\n\r\nconst _task = (url) => (args) =>\r\n  new Task((rej, res) =>\r\n    m.request(url, { ...args, ...xhrProgress }).then(res, rej)\r\n  )\r\n\r\nconst getTask = (url) => (args) => {\r\n  return _task(url)({\r\n    params: { ...args },\r\n    method: 'GET',\r\n  })\r\n}\r\n\r\nconst postTask = (url) => (args) => _task(url)({ ...args, method: 'POST' })\r\nconst putTask = (url) => (args) => _task(url)({ ...args, method: 'PUT' })\r\n\r\nconst http = {\r\n  getTask,\r\n  postTask,\r\n  putTask,\r\n}\r\n\r\nexport default http\r\n\r\nexport const model = {\r\n  routes,\r\n  http,\r\n  limits: [5, 10, 15, 20, 25, 30, 35, 40, 45, 50],\r\n  data: Stream({}),\r\n  state: {\r\n    loadingProgress: {\r\n      max: 0,\r\n      value: 0,\r\n    },\r\n    paginate: { from: 1, size: 10, total: 0 },\r\n    isLoading: Stream(false),\r\n    url: '',\r\n    route: '',\r\n    scrollPos: 1,\r\n    limit: 10,\r\n    profile: '',\r\n    showLimits: Stream(false),\r\n    showSettings: Stream(false),\r\n    showNavigation: Stream(false),\r\n    showModal: Stream(false),\r\n    query: Stream(''),\r\n  },\r\n  toggleLimits: (mdl) => mdl.state.showLimits(!mdl.state.showLimits()),\r\n  toggleSettings: (mdl) => mdl.state.showSettings(!mdl.state.showSettings()),\r\n  toggleModal: (mdl) => mdl.state.showModal(!mdl.state.showModal()),\r\n  filterData: (mdl) => (query) => mdl.state.query(query),\r\n}\r\n","const OpenSecrets = () => {\n  return {\n    view: () => m(\"section\", [])\n  }\n}\n\nexport default OpenSecrets\n","import m from 'mithril'\r\nimport { animate } from '../utils/index.js'\r\n\r\nconst Body = {\r\n  oncreate: animate('slideUp'),\r\n  view: ({ children }) => m('section.content', { id: 'content' }, children),\r\n}\r\n\r\nexport default Body\r\n","import m from 'mithril'\r\n\r\nconst Button = () => {\r\n  return {\r\n    view: ({ attrs: { action, label, classList = '', isDisabled } }) =>\r\n      m(\r\n        `button.btn.${classList}`,\r\n        { onclick: (e) => action(e), disabled: isDisabled },\r\n        label\r\n      ),\r\n  }\r\n}\r\n\r\nexport default Button\r\n","import m from 'mithril'\r\nimport {\r\n  animateChildrenLimitsEntrance,\r\n  animateChildrenLimitsExit,\r\n} from '../utils/animations.js'\r\n\r\nconst Selector = {\r\n  onbeforeremove: animateChildrenLimitsExit,\r\n  view: ({ attrs: { mdl } }) =>\r\n    m(\r\n      '.limits',\r\n      mdl.limits.map((limit, idx) =>\r\n        m(\r\n          'button.btn.limit',\r\n          {\r\n            oncreate: animateChildrenLimitsEntrance(idx),\r\n            onclick: () => {\r\n              mdl.state.limit = limit\r\n              mdl.state.showLimits(false)\r\n            },\r\n            key: idx,\r\n          },\r\n          limit\r\n        )\r\n      )\r\n    ),\r\n}\r\n\r\nconst DropDown = {\r\n  view: ({ attrs: { mdl } }) =>\r\n    m('.changeLimits', [\r\n      m(\r\n        'button.btn',\r\n        {\r\n          onclick: () => mdl.toggleLimits(mdl),\r\n        },\r\n        'Change Limit'\r\n      ),\r\n      mdl.state.showLimits() && [m(Selector, { mdl })],\r\n    ]),\r\n}\r\n\r\nexport default DropDown\r\n","import m from 'mithril'\r\nimport { animate, animateChildrenLimitsEntrance } from '../utils/index.js'\r\nconst Footer = {\r\n  oncreate: animate('slideUp'),\r\n  view: () =>\r\n    m(\r\n      'footer',\r\n      {\r\n        oncreate: animateChildrenLimitsEntrance,\r\n        id: 'footer',\r\n      },\r\n      'content served from NCI Clinical Trials Search API'\r\n    ),\r\n}\r\n\r\nexport default Footer\r\n","import m from 'mithril'\r\n\r\nconst Hamburger = ({ attrs: { mdl } }) => {\r\n  const state = {\r\n    close:\r\n      'M10 8.586L2.929 1.515 1.515 2.929 8.586 10l-7.071 7.071 1.414 1.414L10 11.414l7.071 7.071 1.414-1.414L11.414 10l7.071-7.071-1.414-1.414L10 8.586z',\r\n    open: 'M0 3h20v2H0V3zm0 6h20v2H0V9zm0 6h20v2H0v-2z',\r\n  }\r\n\r\n  const render = (dom) => {\r\n    return m.render(\r\n      dom,\r\n      m('path', {\r\n        xmlns: 'http://www.w3.org/2000/svg',\r\n        d: mdl.state.showModal() ? state.close : state.open,\r\n      })\r\n    )\r\n  }\r\n\r\n  return {\r\n    oncreate: ({ dom }) => {\r\n      let _dom = dom\r\n      return render(_dom)\r\n    },\r\n    onupdate: ({ dom }) => {\r\n      let _dom = dom\r\n      return render(_dom)\r\n    },\r\n    view: ({ attrs: { mdl } }) =>\r\n      m('svg.hamburger', {\r\n        style: { fill: mdl.state.showModal() ? 'white' : 'inherit' },\r\n        onclick: () => mdl.toggleModal(mdl),\r\n      }),\r\n  }\r\n}\r\n\r\nexport default Hamburger\r\n","import m from \"mithril\"\r\nimport Hamburger from \"./Hamburger.js\"\r\nimport ProgressBar from \"./ProgressBar.js\"\r\nimport DropDown from \"./DropDown.js\"\r\nimport SearchBar from \"./Searchbar.js\"\r\nimport { animate } from \"../utils\"\r\n\r\nconst Header = {\r\n  oncreate: animate(\"slideDown\"),\r\n  view: ({ attrs: { mdl } }) =>\r\n    m(\r\n      \"header.header\",\r\n      {\r\n        id: \"header\"\r\n      },\r\n      [\r\n        mdl.state.isLoading()\r\n          ? m(ProgressBar, { mdl })\r\n          : [m(Hamburger, { mdl }), m(SearchBar, { mdl }), m(DropDown, { mdl })]\r\n      ]\r\n    )\r\n}\r\n\r\nexport default Header\r\n","import m from 'mithril'\r\nimport { animateSidebarEntrance,slideModalOut } from '../utils/animations.js'\r\n\r\nconst Modal = {\r\n  oncreate: animateSidebarEntrance,\r\n  onbeforeremove:slideModalOut,\r\n  view: ({ children }) => m('.navigationModal', children),\r\n}\r\n\r\nexport default Modal\r\n","import m from 'mithril'\r\nimport { animateSidebarEntrance } from '../utils/animations.js'\r\n\r\nconst Tab = ({ attrs: { key } }) => {\r\n  return {\r\n    oncreate: animateSidebarEntrance,\r\n    view: ({ attrs: { tab } }) =>\r\n      m(\r\n        'a.tab',\r\n        {\r\n          key,\r\n          id: `${tab}`,\r\n          href: `${tab}`,\r\n          oncreate: m.route.link,\r\n        },\r\n        tab.split('/')[1]\r\n      ),\r\n  }\r\n}\r\n\r\nconst Navigation = {\r\n  view: ({ attrs: { mdl } }) =>\r\n    mdl.routes.map((tab, idx) =>\r\n      m(Tab, {\r\n        key: idx,\r\n        active: mdl.state.route == tab,\r\n        tab,\r\n      })\r\n    ),\r\n}\r\n\r\nexport default Navigation\r\n","import m from \"mithril\"\r\nimport Button from \"../components/Button.js\"\r\nconsole.log(Icons)\r\nconst Paginate = {\r\n  view: ({ attrs: { state, http, paginateFn, limit, mdl } }) =>\r\n    m(\".pagination\", [\r\n      m(Button, {\r\n        action: () => {\r\n          state.from = state.from - mdl.state.limit\r\n          state.size = mdl.state.limit\r\n          paginateFn(http)\r\n        },\r\n        isDisabled: state.from - mdl.state.limit <= 0,\r\n        label: [m(Icons.ArrowLeft, { height: \"15px\" }), limit]\r\n      }),\r\n      m(Button, {\r\n        action: () => {\r\n          state.from = state.from + state.data.length++\r\n          state.size = mdl.state.limit\r\n          paginateFn(http)\r\n        },\r\n        label: [limit, m(Icons.ArrowRight, { height: \"15px\" })],\r\n        isDisabled: state.from + mdl.state.limit > state.total\r\n      }),\r\n      m(\r\n        \".\",\r\n        m(\"code.code\", `${state.from} - ${state.from + state.size} `),\r\n        m(\"code.code.row\", ` of ${state.total} `)\r\n      )\r\n    ])\r\n}\r\n\r\nexport default Paginate\r\n","import m from 'mithril'\r\n\r\nconst ProgressBar = () => {\r\n  return {\r\n    view: ({\r\n      attrs: {\r\n        mdl: {\r\n          state: {\r\n            loadingProgress: { value, max },\r\n          },\r\n        },\r\n      },\r\n    }) => m('.progressBar', m('progress.progress', { max, value })),\r\n  }\r\n}\r\n\r\nexport default ProgressBar\r\n","import m from 'mithril'\r\nimport { debounce } from '../utils/helpers'\r\n\r\nlet debounce300 = debounce(300)\r\n\r\nconst SearchBar = ({ attrs: { mdl } }) => {\r\n  const filterData = mdl.filterData(mdl)\r\n\r\n  return {\r\n    view: () =>\r\n      m('.searchBar', [\r\n        m('input.input', {\r\n          placeholder: 'search query',\r\n          oninput: (e) => debounce300(filterData(e.target.value)),\r\n        }),\r\n      ]),\r\n  }\r\n}\r\n\r\nexport default SearchBar\r\n","import m from 'mithril'\r\nimport { animateSidebarEntrance } from '../utils/animations.js'\r\n\r\nconst Sidebar = {\r\n  oncreate: animateSidebarEntrance,\r\n  view: ({ children, attrs: { classList } }) =>\r\n    m(`aside.${classList}`, children),\r\n}\r\n\r\nexport default Sidebar\r\n","export * from \"./Body.js\"\r\nexport * from \"./Button.js\"\r\nexport * from \"./DropDown.js\"\r\nexport * from \"./Footer.js\"\r\nexport * from \"./Hamburger.js\"\r\nexport * from \"./Header.js\"\r\nexport * from \"./Modal.js\"\r\nexport * from \"./Sidebar.js\"\r\n","import m from \"mithril\"\r\nimport { model } from \"./Model.js\"\r\nimport ClinicalTrials from \"./ClinicalTrials.js\"\r\nimport Layout from \"./Layout.js\"\r\nimport { animate } from \"./utils\"\r\n\r\nconst root = document.body\r\n\r\nfunction getProfile(w) {\r\n  if (w < 668) return \"phone\"\r\n  if (w < 920) return \"tablet\"\r\n  return \"desktop\"\r\n}\r\n\r\nlet winW = window.innerWidth\r\nmodel.state.profile = getProfile(winW)\r\n\r\nfunction checkWidth() {\r\n  const w = window.innerWidth\r\n  if (winW !== w) {\r\n    winW = w\r\n    var lastProfile = model.state.profile\r\n    model.state.profile = getProfile(w)\r\n    if (lastProfile != model.state.profile) m.redraw()\r\n  }\r\n  requestAnimationFrame(checkWidth)\r\n}\r\n\r\ncheckWidth()\r\n\r\nm.mount(root, {\r\n  view: () =>\r\n    m(\r\n      Layout,\r\n      {\r\n        mdl: model\r\n      },\r\n      m(ClinicalTrials, {\r\n        oncreate: animate,\r\n        mdl: model\r\n      })\r\n    )\r\n})\r\n","document.addEventListener(\"DOMContentLoaded\", function() {\n  require(\"index.js\")\n})\n","import m from \"mithril\"\r\n\r\nexport const IsLoading = m(\".holder\", [\r\n  m(\".preloader\", [\r\n    m(\"div\"),\r\n    m(\"div\"),\r\n    m(\"div\"),\r\n    m(\"div\"),\r\n    m(\"div\"),\r\n    m(\"div\"),\r\n    m(\"div\")\r\n  ])\r\n])\r\n\r\nexport const animateComponentEntrance = (idx) => ({ dom }) => {\r\n  dom.style.opacity = 0\r\n  return setTimeout(() => {\r\n    dom.classList.toggle(\"stretchRight\")\r\n    dom.style.opacity = 1\r\n  }, idx * 100 + 20)\r\n}\r\n\r\nexport const animateSidebarEntrance = ({ dom }) => {\r\n  dom.style.opacity = 0\r\n  dom.classList.toggle(\"slideRight\")\r\n  dom.style.opacity = 1\r\n}\r\n\r\nexport const animateChildrenEntrance = ({ dom }) => {\r\n  let children = [...dom.children]\r\n\r\n  return children.map((child, idx) => {\r\n    child.style.opacity = 0\r\n    setTimeout(() => {\r\n      child.classList.toggle(\"slideRight\")\r\n      child.style.opacity = 1\r\n    }, (idx + 1) * 10)\r\n  })\r\n}\r\n\r\nexport const animateChildrenLimitsEntrance = (idx) => ({ dom }) => {\r\n  dom.style.opacity = 0\r\n  setTimeout(() => {\r\n    dom.classList.toggle(\"slideDown\")\r\n    dom.style.opacity = 1\r\n  }, (idx + 1) * 200)\r\n}\r\n\r\nexport const animate = (dir) => ({ dom }) => {\r\n  dom.style.opacity = 0\r\n  setTimeout(() => {\r\n    dom.classList.toggle(dir)\r\n    dom.style.opacity = 1\r\n  }, 200)\r\n}\r\n\r\nexport const slideModalOut = ({ dom }) => {\r\n  return new Promise((res) => {\r\n    dom.classList.remove(\"slideRight\")\r\n    setTimeout(() => {\r\n      dom.classList.add(\"reverseAnimation\", \"slideRight\")\r\n    }, 200)\r\n    return dom.addEventListener(\"animationend\", res)\r\n  })\r\n}\r\n\r\nexport const animateChildrenLimitsExit = ({ dom }) =>\r\n  new Promise(() => {\r\n    ;[...dom.children].reverse().map((child, idx) => {\r\n      return setTimeout(() => {\r\n        child.style.display = \"none\"\r\n      }, idx * 100)\r\n    })\r\n  })\r\n","import {\r\n  compose,\r\n  join,\r\n  values,\r\n  props,\r\n  assoc,\r\n  test,\r\n  prop,\r\n  filter,\r\n  sortBy,\r\n  toLower,\r\n  identity,\r\n  reverse,\r\n  slice,\r\n  max,\r\n  min,\r\n  map,\r\n} from 'ramda'\r\n\r\nimport Task from 'data.task'\r\n\r\nexport const log = (m) => (v) => {\r\n  console.log(m, v)\r\n  return v\r\n}\r\n\r\nexport const isEmpty = (data) => data.length == 0\r\n\r\nexport const infiniteScroll = (mdl) => (e) => {\r\n  let route = mdl.state.route\r\n  let length = mdl.data[route].data.length\r\n  let setpoint = 10 * length * mdl.state.scrollPos\r\n  if (e.target.scrollTop - mdl.state.scrollPos >= setpoint) {\r\n    mdl.state.scrollPos++ + e.target.scrollTop\r\n  }\r\n}\r\n\r\nexport const addTerms = (item) => {\r\n  const terms = compose(\r\n    join(' '),\r\n    values,\r\n    props(['uuid', 'id', 'name'])\r\n  )(item)\r\n\r\n  return assoc('_terms', terms, item)\r\n}\r\n\r\nconst byTerms = (query) =>\r\n  compose(\r\n    test(new RegExp(query, 'i')),\r\n    prop('name')\r\n  )\r\n\r\nexport const _search = (query) => compose(filter(byTerms(query)))\r\n\r\nexport const _sort = (p) =>\r\n  sortBy(\r\n    compose(\r\n      toLower,\r\n      toString,\r\n      prop(p)\r\n    )\r\n  )\r\n\r\nexport const _direction = (dir) => (dir == 'asc' ? identity : reverse)\r\n\r\nexport const _paginate = (offset) => (limit) => (data) =>\r\n  slice(\r\n    max(0, min(offset, data.length)),\r\n    min(offset + limit, data.length),\r\n    data\r\n  )\r\n\r\nexport const filterTask = (query) => (prop) => (direction) => (offset) => (\r\n  limit\r\n) =>\r\n  compose(\r\n    Task.of,\r\n    map(_paginate(offset)(limit)),\r\n    map(_direction(direction)),\r\n    map(_sort(prop)),\r\n    _search(query)\r\n  )\r\n\r\nexport const debounce = (wait, now) => (fn) => {\r\n  let timeout = undefined\r\n  return function() {\r\n    let context = this\r\n    let args = arguments\r\n    let later = function() {\r\n      timeout = undefined\r\n      if (!now) fn.apply(context, args)\r\n    }\r\n    let callNow = now && !timeout\r\n    clearTimeout(timeout)\r\n    timeout = setTimeout(later, wait)\r\n    console.log(fn)\r\n    if (callNow) fn.apply(context, args)\r\n  }\r\n}\r\n","import m from 'mithril'\r\nimport Task from 'data.task'\r\nimport model from '../Model.js'\r\n\r\nconst _http = (mdl) => {\r\n  mdl.isLoading(!mdl.isLoading)\r\n  return m.request\r\n}\r\n\r\nconst _task = (url) => (args) =>\r\n  new Task((rej, res) => _http(model)(url, args).then(res, rej))\r\n\r\nconst getTask = (url) => (args) => _task(url)({ ...args, method: 'GET' })\r\nconst postTask = (url) => (args) => _task(url)({ ...args, method: 'POST' })\r\nconst putTask = (url) => (args) => _task(url)({ ...args, method: 'PUT' })\r\n\r\nconst http = {\r\n  getTask,\r\n  postTask,\r\n  putTask,\r\n}\r\n\r\nexport default http\r\n","export * from './animations.js'\r\nexport * from './helpers.js'\r\nexport * from './http.js'\r\n"]}