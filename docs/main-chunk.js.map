{"version":3,"sources":["webpack:///./components/DropDown.js","webpack:///./utils/animations.js","webpack:///./components/Hamburger.js","webpack:///./components/Button.js","webpack:///./components/ProgressBar.js","webpack:///./components/Navigation.js","webpack:///./components/SearchBar.js","webpack:///./components/Layout.js","webpack:///./Pages/Home.js","webpack:///./utils/http.js","webpack:///./utils/helpers.js","webpack:///./components/Header.js","webpack:///./components/Footer.js","webpack:///./components/Sidebar.js","webpack:///./components/Modal.js","webpack:///./components/Body.js","webpack:///./components/Paginate.js","webpack:///./Pages/ClinicalTrials.js","webpack:///./App.js","webpack:///./index.js","webpack:///./Model.js"],"names":["m","_utils_animations_js__WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","Selector","onbeforeremove","animateChildrenLimitsExit","view","_ref","mdl","attrs","limits","map","limit","idx","oncreate","animateChildrenLimitsEntrance","onclick","state","showLimits","key","DropDown","_ref2","toggleLimits","IsLoading","animateComponentEntrance","dom","style","opacity","setTimeout","classList","toggle","animateSidebarEntrance","_ref4","animate","dir","_ref5","slideModalOut","_ref6","Promise","remove","add","_ref7","_toConsumableArray","children","reverse","child","display","Hamburger","render","xmlns","d","showNav","onupdate","_ref3","fill","showTabs","Button","_ref$attrs","action","label","isDisabled","concat","e","disabled","ProgressBar","_ref$attrs$mdl$state","isLoading","_ref$attrs$mdl$state$","loadingProgress","value","max","Tab","tab","id","href","route","link","split","SearchBar","filterData","placeholder","oninput","debounce300","target","Layout","Header","profile","Modal","Sidebar","Navigation","Body","showSettings","Footer","Home","wait","now","trust","toggleSettings","routes","active","fn","timeout","undefined","context","this","args","arguments","callNow","clearTimeout","apply","console","log","Paginate","http","paginateFn","from","size","data","length","total","searchData","ps","query","compose","q","str","replace","RegExp","markBy","filter","test","props","byTerms","Trial","showDescription","_ref$attrs$trial","trial","official_title","start_date","detail_description","ClinicalTrials","onError","error","onSuccess","trials","originalData","fetchData","getTask","over","trialLens","getTrialData","fork","ClinicalTrials_objectSpread","paginate","pickAll","oninit","onbeforeupdate","_ref6$attrs$mdl","_ref6$attrs$mdl$state","toRoute","onmatch","_","path","scrollPos","init","Component","lensProp","Page","getPage","root","document","body","getProfile","w","winW","window","innerWidth","model","navigator","addEventListener","serviceWorker","register","then","registration","registrationError","checkWidth","lastProfile","redraw","requestAnimationFrame","reduce","makeRoutes","onProgress","lengthComputable","loaded","onLoad","onLoadStart","onLoadEnd","_task","url","Task","rej","res","request","_objectSpread","xhrProgress","config","xhr","onprogress","onload","onloadstart","onloadend","params","method","postTask","putTask","Stream","showNavigation"],"mappings":"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","file":"main-chunk.js","sourcesContent":["import {\r\n  animateChildrenLimitsEntrance,\r\n  animateChildrenLimitsExit,\r\n} from '../utils/animations.js'\r\n\r\nconst Selector = {\r\n  onbeforeremove: animateChildrenLimitsExit,\r\n  view: ({ attrs: { mdl } }) =>\r\n    m(\r\n      '.limits',\r\n      mdl.limits.map((limit, idx) =>\r\n        m(\r\n          'button.btn.limit',\r\n          {\r\n            oncreate: animateChildrenLimitsEntrance(idx),\r\n            onclick: () => {\r\n              mdl.state.limit = limit\r\n              mdl.state.showLimits(false)\r\n            },\r\n            key: idx,\r\n          },\r\n          limit\r\n        )\r\n      )\r\n    ),\r\n}\r\n\r\nconst DropDown = {\r\n  view: ({ attrs: { mdl } }) =>\r\n    m('.changeLimits', [\r\n      m(\r\n        'button.changeLimitBtn',\r\n        {\r\n          onclick: () => mdl.toggleLimits(mdl),\r\n        },\r\n        'Change Limit'\r\n      ),\r\n      mdl.state.showLimits() && m(Selector, { mdl }),\r\n    ]),\r\n}\r\n\r\nexport default DropDown\r\n","export const IsLoading = m('.holder', [\r\n  m('.preloader', [\r\n    m('div'),\r\n    m('div'),\r\n    m('div'),\r\n    m('div'),\r\n    m('div'),\r\n    m('div'),\r\n    m('div'),\r\n  ]),\r\n])\r\n\r\nexport const animateComponentEntrance = (idx) => ({ dom }) => {\r\n  dom.style.opacity = 0\r\n  return setTimeout(() => {\r\n    dom.classList.toggle('stretchRight')\r\n    dom.style.opacity = 1\r\n  }, idx * 100 + 20)\r\n}\r\n\r\nexport const animateSidebarEntrance = ({ dom }) => {\r\n  dom.style.opacity = 0\r\n  dom.classList.toggle('slideRight')\r\n  dom.style.opacity = 1\r\n}\r\n\r\nexport const animateChildrenEntrance = ({ dom }) => {\r\n  let children = [...dom.children]\r\n\r\n  return children.map((child, idx) => {\r\n    child.style.opacity = 0\r\n    setTimeout(() => {\r\n      child.classList.toggle('slideRight')\r\n      child.style.opacity = 1\r\n    }, (idx + 1) * 10)\r\n  })\r\n}\r\n\r\nexport const animateChildrenLimitsEntrance = (idx) => ({ dom }) => {\r\n  dom.style.opacity = 0\r\n  setTimeout(() => {\r\n    dom.classList.toggle('slideDown')\r\n    dom.style.opacity = 1\r\n  }, (idx + 1) * 200)\r\n}\r\n\r\nexport const animate = (dir) => ({ dom }) => {\r\n  dom.style.opacity = 0\r\n  setTimeout(() => {\r\n    dom.classList.toggle(dir)\r\n    dom.style.opacity = 1\r\n  }, 200)\r\n}\r\n\r\nexport const slideModalOut = ({ dom }) => {\r\n  return new Promise(() => {\r\n    dom.classList.remove('slideRight')\r\n    return setTimeout(() => {\r\n      dom.classList.add('reverseAnimation', 'slideRight')\r\n    }, 200)\r\n  })\r\n}\r\n\r\nexport const animateChildrenLimitsExit = ({ dom }) =>\r\n  new Promise(() => {\r\n    [...dom.children].reverse().map((child, idx) => {\r\n      return setTimeout(() => {\r\n        child.style.display = 'none'\r\n      }, idx * 100)\r\n    })\r\n  })\r\n","import m from 'mithril'\r\n\r\nconst Hamburger = ({ attrs: { mdl } }) => {\r\n  const state = {\r\n    close:\r\n      'M10 8.586L2.929 1.515 1.515 2.929 8.586 10l-7.071 7.071 1.414 1.414L10 11.414l7.071 7.071 1.414-1.414L11.414 10l7.071-7.071-1.414-1.414L10 8.586z',\r\n    open: 'M0 3h20v2H0V3zm0 6h20v2H0V9zm0 6h20v2H0v-2z',\r\n  }\r\n\r\n  const render = (dom) => {\r\n    return m.render(\r\n      dom,\r\n      m('path', {\r\n        xmlns: 'http://www.w3.org/2000/svg',\r\n        d: mdl.state.showNav() ? state.close : state.open,\r\n      })\r\n    )\r\n  }\r\n\r\n  return {\r\n    oncreate: ({ dom }) => {\r\n      let _dom = dom\r\n      return render(_dom)\r\n    },\r\n    onupdate: ({ dom }) => {\r\n      let _dom = dom\r\n      return render(_dom)\r\n    },\r\n    view: ({ attrs: { mdl } }) =>\r\n      m('svg.btn.hamburger', {\r\n        style: { fill: mdl.state.showNav() ? 'white' : 'inherit' },\r\n        onclick: () => mdl.showTabs(mdl),\r\n      }),\r\n  }\r\n}\r\n\r\nexport default Hamburger\r\n","import m from 'mithril'\r\n\r\nconst Button = () => {\r\n  return {\r\n    view: ({ attrs: { action, label, classList, isDisabled } }) =>\r\n      m(\r\n        `button.btn.${classList}`,\r\n        { onclick: (e) => action(e), disabled: isDisabled },\r\n        label\r\n      ),\r\n  }\r\n}\r\n\r\nexport default Button\r\n","import m from 'mithril'\r\n\r\nconst ProgressBar = () => {\r\n  return {\r\n    view: ({\r\n      attrs: {\r\n        mdl: {\r\n          state: {\r\n            isLoading,\r\n            loadingProgress: { value, max },\r\n          },\r\n        },\r\n      },\r\n    }) =>\r\n      isLoading() && m('.progressBar', m('progress.progress', { max, value })),\r\n  }\r\n}\r\n\r\nexport default ProgressBar\r\n","import m from 'mithril'\r\nimport { animateSidebarEntrance } from '../utils/animations.js'\r\n\r\nconst Tab = ({ attrs: { key } }) => {\r\n  return {\r\n    oncreate: animateSidebarEntrance,\r\n    view: ({ attrs: { tab } }) =>\r\n      m(\r\n        'a.tab',\r\n        {\r\n          key,\r\n          id: `${tab}`,\r\n          href: `${tab}`,\r\n          oncreate: m.route.link,\r\n        },\r\n        tab.split('/')[1]\r\n      ),\r\n  }\r\n}\r\n\r\nconst Navigation = {\r\n  view: ({ attrs: { mdl } }) =>\r\n    mdl.routes.map((tab, idx) =>\r\n      m(Tab, {\r\n        key: idx,\r\n        active: mdl.state.route == tab,\r\n        tab,\r\n      })\r\n    ),\r\n}\r\n\r\nexport default Navigation\r\n","import m from 'mithril'\r\nimport { debounce } from '../utils/helpers'\r\n\r\nlet debounce300 = debounce(300)\r\n\r\nconst SearchBar = ({ attrs: { mdl } }) => {\r\n  const filterData = mdl.filterData(mdl)\r\n\r\n  return {\r\n    view: () =>\r\n      m('.searchBar', [\r\n        m('input.input', {\r\n          placeholder: 'search query',\r\n          oninput: (e) => debounce300(filterData(e.target.value)),\r\n        }),\r\n      ]),\r\n  }\r\n}\r\n\r\nexport default SearchBar\r\n","import m from 'mithril'\r\nimport Header from './Header.js'\r\nimport Footer from './Footer.js'\r\nimport Sidebar from './Sidebar.js'\r\nimport Modal from './Modal.js'\r\nimport Body from './Body.js'\r\nimport Navigation from './Navigation.js'\r\nimport DropDown from './DropDown.js'\r\nimport SearchBar from './SearchBar.js'\r\n\r\nconst Layout = ({ attrs: { mdl } }) => {\r\n  return {\r\n    view: ({ children }) =>\r\n      m(\r\n        'section.layout',\r\n        {\r\n          id: 'layout',\r\n        },\r\n        children\r\n          ? [\r\n            m(Header, { mdl }),\r\n            mdl.state.profile == 'phone'\r\n              ? mdl.state.showNav()\r\n                ? m(Modal, m(Sidebar, m(Navigation, { mdl })))\r\n                : null\r\n              : [\r\n                m(\r\n                  Sidebar,\r\n                  { classList: 'sidebar-left slide-left' },\r\n                  m(Navigation, { mdl })\r\n                ),\r\n              ],\r\n            m(Body, { mdl }, [children]),\r\n            mdl.state.showSettings() &&\r\n                m(Sidebar, { classList: 'sidebar-right slide-right' }, [\r\n                  m(SearchBar, { mdl }),\r\n                  m(DropDown, { mdl }),\r\n                ]),\r\n            m(Footer, { mdl }),\r\n          ]\r\n          : []\r\n      ),\r\n  }\r\n}\r\n\r\nexport default Layout\r\n","import m from 'mithril'\r\n\r\nconst Home = () => {\r\n  return {\r\n    view: () => m('.home', 'Welcome Home'),\r\n  }\r\n}\r\n\r\nexport default Home\r\n","import m from 'mithril'\r\nimport Task from 'data.task'\r\nimport model from '../Model.js'\r\n\r\nconst _http = (mdl) => {\r\n  mdl.isLoading(!mdl.isLoading)\r\n  return m.request\r\n}\r\n\r\nconst _task = (url) => (args) =>\r\n  new Task((rej, res) => _http(model)(url, args).then(res, rej))\r\n\r\nconst getTask = (url) => (args) => _task(url)({ ...args, method: 'GET' })\r\nconst postTask = (url) => (args) => _task(url)({ ...args, method: 'POST' })\r\nconst putTask = (url) => (args) => _task(url)({ ...args, method: 'PUT' })\r\n\r\nconst http = {\r\n  getTask,\r\n  postTask,\r\n  putTask,\r\n}\r\n\r\nexport default http\r\n","import {\r\n  compose,\r\n  join,\r\n  values,\r\n  props,\r\n  assoc,\r\n  test,\r\n  prop,\r\n  filter,\r\n  sortBy,\r\n  toLower,\r\n  identity,\r\n  reverse,\r\n  slice,\r\n  max,\r\n  min,\r\n  map,\r\n} from 'ramda'\r\n\r\nimport Task from 'data.task'\r\n\r\nexport const log = (m) => (v) => {\r\n  console.log(m, v)\r\n  return v\r\n}\r\n\r\nexport const isEmpty = (data) => data.length == 0\r\n\r\nexport const infiniteScroll = (mdl) => (e) => {\r\n  let route = mdl.state.route\r\n  let length = mdl.data[route].data.length\r\n  let setpoint = 10 * length * mdl.state.scrollPos\r\n  if (e.target.scrollTop - mdl.state.scrollPos >= setpoint) {\r\n    mdl.state.scrollPos++ + e.target.scrollTop\r\n  }\r\n}\r\n\r\nexport const addTerms = (item) => {\r\n  const terms = compose(\r\n    join(' '),\r\n    values,\r\n    props(['uuid', 'id', 'name'])\r\n  )(item)\r\n\r\n  return assoc('_terms', terms, item)\r\n}\r\n\r\nconst byTerms = (query) =>\r\n  compose(\r\n    test(new RegExp(query, 'i')),\r\n    prop('name')\r\n  )\r\n\r\nexport const _search = (query) => compose(filter(byTerms(query)))\r\n\r\nexport const _sort = (p) =>\r\n  sortBy(\r\n    compose(\r\n      toLower,\r\n      toString,\r\n      prop(p)\r\n    )\r\n  )\r\n\r\nexport const _direction = (dir) => (dir == 'asc' ? identity : reverse)\r\n\r\nexport const _paginate = (offset) => (limit) => (data) =>\r\n  slice(\r\n    max(0, min(offset, data.length)),\r\n    min(offset + limit, data.length),\r\n    data\r\n  )\r\n\r\nexport const filterTask = (query) => (prop) => (direction) => (offset) => (\r\n  limit\r\n) =>\r\n  compose(\r\n    Task.of,\r\n    map(_paginate(offset)(limit)),\r\n    map(_direction(direction)),\r\n    map(_sort(prop)),\r\n    _search(query)\r\n  )\r\n\r\nexport const debounce = (wait, now) => (fn) => {\r\n  let timeout = undefined\r\n  return function() {\r\n    let context = this\r\n    let args = arguments\r\n    let later = function() {\r\n      timeout = undefined\r\n      if (!now) fn.apply(context, args)\r\n    }\r\n    let callNow = now && !timeout\r\n    clearTimeout(timeout)\r\n    timeout = setTimeout(later, wait)\r\n    console.log(fn)\r\n    if (callNow) fn.apply(context, args)\r\n  }\r\n}\r\n","import m from 'mithril'\r\nimport Hamburger from './Hamburger.js'\r\nimport Button from './Button.js'\r\nimport ProgressBar from './ProgressBar.js'\r\nimport { animate } from '../utils'\r\n\r\nconst Header = {\r\n  oncreate: animate('slideDown'),\r\n  view: ({ attrs: { mdl } }) =>\r\n    m(\r\n      'header.header',\r\n      {\r\n        id: 'header',\r\n      },\r\n      [\r\n        m(Hamburger, { mdl }),\r\n        m(ProgressBar, { mdl }),\r\n        m(Button, {\r\n          classList: 'right',\r\n          label: m.trust('&#9881;'),\r\n          action: () => mdl.toggleSettings(mdl),\r\n        }),\r\n      ]\r\n    ),\r\n}\r\n\r\nexport default Header\r\n","import m from 'mithril'\r\nimport { animate, animateChildrenLimitsEntrance } from '../utils/index.js'\r\nconst Footer = {\r\n  oncreate: animate('slideUp'),\r\n  view: () =>\r\n    m(\r\n      'footer.footer',\r\n      {\r\n        oncreate: animateChildrenLimitsEntrance,\r\n        id: 'footer',\r\n      },\r\n      'content served from NCI Clinical Trials Search API'\r\n    ),\r\n}\r\n\r\nexport default Footer\r\n","import m from 'mithril'\r\nimport { animateSidebarEntrance } from '../utils/animations.js'\r\n\r\nconst Sidebar = {\r\n  oncreate: animateSidebarEntrance,\r\n  view: ({ children, attrs: { classList } }) =>\r\n    m(`aside.${classList}`, children),\r\n}\r\n\r\nexport default Sidebar\r\n","import m from 'mithril'\r\nimport { animateSidebarEntrance,slideModalOut } from '../utils/animations.js'\r\n\r\nconst Modal = {\r\n  oncreate: animateSidebarEntrance,\r\n  onbeforeremove:slideModalOut,\r\n  view: ({ children }) => m('.navigationModal', children),\r\n}\r\n\r\nexport default Modal\r\n","import m from 'mithril'\r\nimport { animate } from '../utils/index.js'\r\n\r\nconst Body = {\r\n  oncreate: animate('slideUp'),\r\n  view: ({ children }) => m('section.content', { id: 'content' }, children),\r\n}\r\n\r\nexport default Body\r\n","import m from 'mithril'\r\nimport Button from '../components/Button.js'\r\n\r\nconst Paginate = {\r\n  view: ({ attrs: { state, http, paginateFn, limit, mdl } }) =>\r\n    m('.pagination', [\r\n      m(Button, {\r\n        action: () => {\r\n          state.from = state.from - mdl.state.limit\r\n          state.size = mdl.state.limit\r\n          paginateFn(http)\r\n        },\r\n        isDisabled: state.from - mdl.state.limit <= 0,\r\n        label: `Load Prev ${limit}`,\r\n      }),\r\n\r\n      m('code.code', `${state.from} / ${state.from + state.size} `),\r\n\r\n      m(Button, {\r\n        action: () => {\r\n          state.from = state.from + state.data.length++\r\n          state.size = mdl.state.limit\r\n          paginateFn(http)\r\n        },\r\n        label: `Load Next ${limit} of ${state.total}`,\r\n        isDisabled: state.from + mdl.state.limit > state.total,\r\n      }),\r\n    ]),\r\n}\r\n\r\nexport default Paginate\r\n","import m from 'mithril'\r\nimport { IsLoading, animateComponentEntrance } from '../utils'\r\nimport {\r\n  replace,\r\n  map,\r\n  pickAll,\r\n  lensProp,\r\n  over,\r\n  compose,\r\n  test,\r\n  props,\r\n  filter,\r\n} from 'ramda'\r\nimport Paginate from '../components/Paginate.js'\r\n\r\nconst trialLens = lensProp('trials')\r\n\r\nconst byTerms = (ps) => (query) =>\r\n  compose(\r\n    test(new RegExp(query, 'i')),\r\n    props(ps)\r\n  )\r\n\r\nconst markBy = (q) => (str) =>\r\n  q ? replace(new RegExp(q, 'gi'), `<mark>${q}</mark>`, str) : str\r\n\r\nconst searchData = (ps) => (query) =>\r\n  compose(\r\n    map(map(markBy(query))),\r\n    filter(byTerms(ps)(query))\r\n  )\r\n\r\nconst Trial = () => {\r\n  let showDescription = false\r\n  return {\r\n    view: ({\r\n      attrs: {\r\n        trial: { official_title, start_date, detail_description },\r\n      },\r\n    }) =>\r\n      m(\r\n        '.grid-item.row',\r\n        { onclick: () => (showDescription = !showDescription) },\r\n        [\r\n          m('h1.left', m.trust(official_title)),\r\n          m('p.right', 'Start Date: ', m('pre', start_date)),\r\n          showDescription &&\r\n            m('.row', m('pre.pre', m.trust(detail_description))),\r\n        ]\r\n      ),\r\n  }\r\n}\r\n\r\nconst ClinicalTrials = ({ attrs: { mdl } }) => {\r\n  const state = {\r\n    error: {},\r\n    data: undefined,\r\n    ...mdl.state.paginate,\r\n    props: ['official_title', 'detail_description'],\r\n  }\r\n  const onError = (error) => (state.error = error)\r\n  const onSuccess = ({ trials, total }) => {\r\n    state.originalData = trials\r\n    state.data = trials\r\n    state.total = total\r\n  }\r\n\r\n  const getTrialData = pickAll([\r\n    'official_title',\r\n    'detail_description',\r\n    'start_date',\r\n  ])\r\n\r\n  const fetchData = (http) =>\r\n    http\r\n      .getTask('https://clinicaltrialsapi.cancer.gov/v1/clinical-trials')({\r\n        from: state.from,\r\n        size: state.size,\r\n      })\r\n      .map(over(trialLens, map(getTrialData)))\r\n      .fork(onError, onSuccess)\r\n\r\n  return {\r\n    oninit: ({\r\n      attrs: {\r\n        mdl: { http },\r\n      },\r\n    }) => fetchData(http),\r\n\r\n    onbeforeupdate: ({\r\n      attrs: {\r\n        mdl: {\r\n          state: { query },\r\n        },\r\n      },\r\n    }) =>\r\n      state.data\r\n        ? (state.data = searchData(state.props)(query())(state.originalData))\r\n        : true,\r\n    view: ({\r\n      attrs: {\r\n        mdl: {\r\n          http,\r\n          state: { isLoading, limit },\r\n        },\r\n      },\r\n    }) =>\r\n      m('section.component.clinical-trials', [\r\n        state.data &&\r\n          !isLoading() &&\r\n          m('.trials', [\r\n            state.data.map((trial, key) =>\r\n              m(Trial, {\r\n                oncreate: animateComponentEntrance(key),\r\n                key,\r\n                trial,\r\n              })\r\n            ),\r\n            m(Paginate, {\r\n              state,\r\n              http,\r\n              paginateFn: fetchData,\r\n              limit,\r\n              mdl,\r\n            }),\r\n          ]),\r\n        isLoading() && IsLoading,\r\n      ]),\r\n  }\r\n}\r\n\r\nexport default ClinicalTrials\r\n","import m from 'mithril'\r\nimport Layout from './components/Layout.js'\r\nimport { animate } from './utils/index.js'\r\nimport Home from './Pages/Home.js'\r\nimport ClinicalTrials from './Pages/ClinicalTrials.js'\r\n\r\nconst getPage = (route) => {\r\n  switch (route) {\r\n  case '/home':\r\n    return Home\r\n  case '/clinical-trials':\r\n    return ClinicalTrials\r\n  }\r\n}\r\n\r\nconst Component = {\r\n  view: ({ attrs: { mdl } }) => {\r\n    let route = mdl.state.route\r\n    let Page = getPage(route)\r\n    return m(\r\n      'section.component',\r\n      {\r\n        id: 'component',\r\n        route,\r\n        // onscroll: infiniteScroll(mdl),\r\n      },\r\n      m(Page, {\r\n        oncreate: animate,\r\n        mdl,\r\n      })\r\n    )\r\n  },\r\n}\r\n\r\n// const getData = (mdl) => (path) => {\r\n//   let start = mdl.data[path].data.length\r\n//   mdl.reqs.http(mdl)(mdl.reqs.urls[path](start, mdl.state.limit))(path)\r\n// }\r\n\r\nconst init = (mdl) => (path) => {\r\n  mdl.state.route = path\r\n  mdl.state.scrollPos = 1\r\n  mdl.state.showNav(false)\r\n  // mdl.data[path] ? mdl.data[path] : (mdl.data[path] = { data: [], limit: 1 })\r\n}\r\n\r\nconst makeRoutes = (mdl) => (toRoute) => (routes, route) => {\r\n  routes[route] = toRoute(mdl)\r\n  return routes\r\n}\r\n\r\nconst toRoute = (mdl) => ({\r\n  onmatch: (_, path) => init(mdl)(path),\r\n  render: () =>\r\n    m(\r\n      Layout,\r\n      {\r\n        mdl,\r\n      },\r\n      m(Component, {\r\n        mdl,\r\n      })\r\n    ),\r\n})\r\n\r\nexport const App = (mdl) => mdl.routes.reduce(makeRoutes(mdl)(toRoute), {})\r\n","import m from 'mithril'\r\nconst root = document.body\r\nimport { model } from './Model.js'\r\n\r\nimport { App } from './App.js'\r\n\r\nif (module.hot) {\r\n  module.hot.accept()\r\n}\r\n\r\nif (process.env.NODE_ENV !== 'production') {\r\n  console.log('Looks like we are in development mode!')\r\n}\r\n\r\n// Styles\r\nimport './index.css'\r\nimport './utils/animations.css'\r\nimport './utils/loader.css'\r\n\r\nfunction getProfile(w) {\r\n  if (w < 668) return 'phone'\r\n  if (w < 920) return 'tablet'\r\n  return 'desktop'\r\n}\r\n\r\nlet winW = window.innerWidth\r\nmodel.state.profile = getProfile(winW)\r\n\r\nfunction checkWidth() {\r\n  const w = window.innerWidth\r\n  if (winW !== w) {\r\n    winW = w\r\n    var lastProfile = model.state.profile\r\n    model.state.profile = getProfile(w)\r\n    if (lastProfile != model.state.profile) m.redraw()\r\n  }\r\n  requestAnimationFrame(checkWidth)\r\n}\r\n\r\nif ('serviceWorker' in navigator) {\r\n  window.addEventListener('load', () => {\r\n    navigator.serviceWorker\r\n      .register('./service-worker.js')\r\n      .then((registration) => {\r\n        console.log('🧟 SW registered: ', registration)\r\n      })\r\n      .catch((registrationError) => {\r\n        console.log('⚙️ SW registration failed: ', registrationError)\r\n      })\r\n  })\r\n}\r\n\r\ncheckWidth()\r\n\r\nm.route(root, '/home', App(model))\r\n","import Stream from 'mithril-stream'\r\nimport Task from 'data.task'\r\nconst routes = [\r\n  '/home',\r\n  '/clinical-trials',\r\n  '/interventions',\r\n  '/diseases',\r\n  '/terms',\r\n]\r\n\r\nfunction onProgress(e) {\r\n  if (e.lengthComputable) {\r\n    model.state.loadingProgress.max = e.total\r\n    model.state.loadingProgress.value = e.loaded\r\n    m.redraw()\r\n  }\r\n}\r\n\r\nfunction onLoad() {\r\n  return false\r\n}\r\n\r\nfunction onLoadStart() {\r\n  model.state.isLoading(true)\r\n  return false\r\n}\r\nfunction onLoadEnd() {\r\n  model.state.isLoading(false)\r\n  model.state.loadingProgress.max = 0\r\n  model.state.loadingProgress.value = 0\r\n  return false\r\n}\r\n\r\nconst xhrProgress = {\r\n  config: (xhr) => {\r\n    xhr.onprogress = onProgress\r\n    xhr.onload = onLoad\r\n    xhr.onloadstart = onLoadStart\r\n    xhr.onloadend = onLoadEnd\r\n  },\r\n}\r\n\r\nconst _task = (url) => (args) =>\r\n  new Task((rej, res) =>\r\n    m.request(url, { ...args, ...xhrProgress }).then(res, rej)\r\n  )\r\n\r\nconst getTask = (url) => (args) => {\r\n  return _task(url)({\r\n    params: { ...args },\r\n    method: 'GET',\r\n  })\r\n}\r\n\r\nconst postTask = (url) => (args) => _task(url)({ ...args, method: 'POST' })\r\nconst putTask = (url) => (args) => _task(url)({ ...args, method: 'PUT' })\r\n\r\nconst http = {\r\n  getTask,\r\n  postTask,\r\n  putTask,\r\n}\r\n\r\nexport default http\r\n\r\nexport const model = {\r\n  routes,\r\n  http,\r\n  limits: [10, 30, 40, 50, 60, 70, 80, 90, 100],\r\n  data: Stream({}),\r\n  state: {\r\n    loadingProgress: {\r\n      max: 0,\r\n      value: 0,\r\n    },\r\n    paginate: { from: 1, size: 10, total: 0 },\r\n    isLoading: Stream(false),\r\n    url: '',\r\n    route: '',\r\n    scrollPos: 1,\r\n    limit: 10,\r\n    profile: '',\r\n    showLimits: Stream(false),\r\n    showSettings: Stream(false),\r\n    showNavigation: Stream(false),\r\n    showNav: Stream(false),\r\n    query: Stream(''),\r\n  },\r\n  toggleLimits: (mdl) => mdl.state.showLimits(!mdl.state.showLimits()),\r\n  toggleSettings: (mdl) => mdl.state.showSettings(!mdl.state.showSettings()),\r\n  showTabs: (mdl) => mdl.state.showNav(!mdl.state.showNav()),\r\n  filterData: (mdl) => (query) => mdl.state.query(query),\r\n}\r\n"],"sourceRoot":""}